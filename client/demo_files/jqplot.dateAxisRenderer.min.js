(function(e){function h(e,t,n){var r=Number.MAX_VALUE,i,s,o;for(var u=0,a=l.length;u<a;u++)i=Math.abs(n-l[u]),i<r&&(r=i,s=l[u],o=f[u]);return[s,o]}e.jqplot.DateAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this),this.date=new e.jsDate};var t=1e3,n=60*t,r=60*n,i=24*r,s=7*i,o=30.4368499*i,u=365.242199*i,a=[31,28,31,30,31,30,31,30,31,30,31,30],f=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],l=[.1*t,.2*t,.5*t,t,2*t,5*t,10*t,15*t,30*t,n,2*n,5*n,10*n,15*n,30*n,r,2*r,4*r,6*r,8*r,12*r,i,2*i,3*i,4*i,5*i,s,2*s],c=[];e.jqplot.DateAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.DateAxisRenderer.prototype.constructor=e.jqplot.DateAxisRenderer,e.jqplot.DateTickFormatter=function(t,n){return t||(t="%Y/%m/%d"),e.jsDate.strftime(n,t)},e.jqplot.DateAxisRenderer.prototype.init=function(t){this.tickOptions.formatter=e.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,e.extend(!0,this,t);var n=this._dataBounds,r,i,s,o,u,a,f;for(var l=0;l<this._series.length;l++){r={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},i=0,s=this._series[l],o=s.data,u=s._plotData,a=s._stackData,f=0;for(var c=0;c<o.length;c++){if(this.name=="xaxis"||this.name=="x2axis"){o[c][0]=(new e.jsDate(o[c][0])).getTime(),u[c][0]=(new e.jsDate(o[c][0])).getTime(),a[c][0]=(new e.jsDate(o[c][0])).getTime();if(o[c][0]!=null&&o[c][0]<n.min||n.min==null)n.min=o[c][0];if(o[c][0]!=null&&o[c][0]>n.max||n.max==null)n.max=o[c][0];c>0&&(f=Math.abs(o[c][0]-o[c-1][0]),r.intervals.push(f),r.frequencies.hasOwnProperty(f)?r.frequencies[f]+=1:r.frequencies[f]=1),i+=f}else{o[c][1]=(new e.jsDate(o[c][1])).getTime(),u[c][1]=(new e.jsDate(o[c][1])).getTime(),a[c][1]=(new e.jsDate(o[c][1])).getTime();if(o[c][1]!=null&&o[c][1]<n.min||n.min==null)n.min=o[c][1];if(o[c][1]!=null&&o[c][1]>n.max||n.max==null)n.max=o[c][1];c>0&&(f=Math.abs(o[c][1]-o[c-1][1]),r.intervals.push(f),r.frequencies.hasOwnProperty(f)?r.frequencies[f]+=1:r.frequencies[f]=1)}i+=f}if(s.renderer.bands){if(s.renderer.bands.hiData.length){var h=s.renderer.bands.hiData;for(var c=0,p=h.length;c<p;c++)if(this.name==="xaxis"||this.name==="x2axis"){h[c][0]=(new e.jsDate(h[c][0])).getTime();if(h[c][0]!=null&&h[c][0]>n.max||n.max==null)n.max=h[c][0]}else{h[c][1]=(new e.jsDate(h[c][1])).getTime();if(h[c][1]!=null&&h[c][1]>n.max||n.max==null)n.max=h[c][1]}}if(s.renderer.bands.lowData.length){var h=s.renderer.bands.lowData;for(var c=0,p=h.length;c<p;c++)if(this.name==="xaxis"||this.name==="x2axis"){h[c][0]=(new e.jsDate(h[c][0])).getTime();if(h[c][0]!=null&&h[c][0]<n.min||n.min==null)n.min=h[c][0]}else{h[c][1]=(new e.jsDate(h[c][1])).getTime();if(h[c][1]!=null&&h[c][1]<n.min||n.min==null)n.min=h[c][1]}}}var d=0,v=0;for(var m in r.frequencies)r.sortedIntervals.push({interval:m,frequency:r.frequencies[m]});r.sortedIntervals.sort(function(e,t){return t.frequency-e.frequency}),r.min=e.jqplot.arrayMin(r.intervals),r.max=e.jqplot.arrayMax(r.intervals),r.mean=i/o.length,this._intervalStats.push(r),r=i=s=o=u=a=null}n=null},e.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},e.jqplot.DateAxisRenderer.prototype.createTicks=function(t){var n=this._ticks,r=this.ticks,s=this.name,a=this._dataBounds,f=this._intervalStats,l=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height,c,p,d,v,m,g,y,b=30,w=1,E=this.tickInterval;p=this.min!=null?(new e.jsDate(this.min)).getTime():a.min,d=this.max!=null?(new e.jsDate(this.max)).getTime():a.max;var S=t.plugins.cursor;S&&S._zoom&&S._zoom.zooming&&(this.min=null,this.max=null);var x=d-p;if(this.tickOptions==null||!this.tickOptions.formatString)this._overrideFormatString=!0;if(r.length){for(y=0;y<r.length;y++){var T=r[y],N=new this.tickRenderer(this.tickOptions);T.constructor==Array?(N.value=(new e.jsDate(T[0])).getTime(),N.label=T[1],this.showTicks?this.showTickMarks||(N.showMark=!1):(N.showLabel=!1,N.showMark=!1),N.setTick(N.value,this.name),this._ticks.push(N)):(N.value=(new e.jsDate(T)).getTime(),this.showTicks?this.showTickMarks||(N.showMark=!1):(N.showLabel=!1,N.showMark=!1),N.setTick(N.value,this.name),this._ticks.push(N))}this.numberTicks=r.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(this.min==null&&this.max==null&&a.min==a.max){var C=e.extend(!0,{},this.tickOptions,{name:this.name,value:null}),L=3e5;this.min=a.min-L,this.max=a.max+L,this.numberTicks=3;for(var y=this.min;y<=this.max;y+=L){C.value=y;var N=new this.tickRenderer(C);this._overrideFormatString&&this._autoFormatString!=""&&(N.formatString=this._autoFormatString),N.showLabel=!1,N.showMark=!1,this._ticks.push(N)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(this.min==null&&this.max==null){var A=e.extend(!0,{},this.tickOptions,{name:this.name,value:null}),O,M;if(!this.tickInterval&&!this.numberTicks){var _=Math.max(l,b+1),D=115;this.tickRenderer===e.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(D=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),O=Math.ceil((_-b)/D+1),M=(d-p)/(O-1)}else this.tickInterval?M=this.tickInterval:this.numberTicks&&(O=this.numberTicks,M=(d-p)/(O-1));if(M<=19*i){var P=h(p,d,M),H=P[0];this._autoFormatString=P[1],p=Math.floor(p/H)*H,p=new e.jsDate(p),p=p.getTime()+p.getUtcOffset(),O=Math.ceil((d-p)/H)+1,this.min=p,this.max=p+(O-1)*H,this.max<d&&(this.max+=H,O+=1),this.tickInterval=H,this.numberTicks=O;for(var y=0;y<O;y++)A.value=this.min+y*H,N=new this.tickRenderer(A),this._overrideFormatString&&this._autoFormatString!=""&&(N.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(N.showMark=!1):(N.showLabel=!1,N.showMark=!1),this._ticks.push(N);w=this.tickInterval}else if(M<=9*o){this._autoFormatString="%v";var B=Math.round(M/o);B<1?B=1:B>6&&(B=6);var F=(new e.jsDate(p)).setDate(1).setHours(0,0,0,0),I=new e.jsDate(d),q=(new e.jsDate(d)).setDate(1).setHours(0,0,0,0);I.getTime()!==q.getTime()&&(q=q.add(1,"month"));var R=q.diff(F,"month");O=Math.ceil(R/B)+1,this.min=F.getTime(),this.max=F.clone().add((O-1)*B,"month").getTime(),this.numberTicks=O;for(var y=0;y<O;y++)y===0?A.value=F.getTime():A.value=F.add(B,"month").getTime(),N=new this.tickRenderer(A),this._overrideFormatString&&this._autoFormatString!=""&&(N.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(N.showMark=!1):(N.showLabel=!1,N.showMark=!1),this._ticks.push(N);w=B*o}else{this._autoFormatString="%v";var B=Math.round(M/u);B<1&&(B=1);var F=(new e.jsDate(p)).setMonth(0,1).setHours(0,0,0,0),q=(new e.jsDate(d)).add(1,"year").setMonth(0,1).setHours(0,0,0,0),U=q.diff(F,"year");O=Math.ceil(U/B)+1,this.min=F.getTime(),this.max=F.clone().add((O-1)*B,"year").getTime(),this.numberTicks=O;for(var y=0;y<O;y++)y===0?A.value=F.getTime():A.value=F.add(B,"year").getTime(),N=new this.tickRenderer(A),this._overrideFormatString&&this._autoFormatString!=""&&(N.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(N.showMark=!1):(N.showLabel=!1,N.showMark=!1),this._ticks.push(N);w=B*u}}else{s=="xaxis"||s=="x2axis"?l=this._plotDimensions.width:l=this._plotDimensions.height,this.min!=null&&this.max!=null&&this.numberTicks!=null&&(this.tickInterval=null);if(this.tickInterval!=null)if(Number(this.tickInterval))this.daTickInterval=[Number(this.tickInterval),"seconds"];else if(typeof this.tickInterval=="string"){var z=this.tickInterval.split(" ");z.length==1?this.daTickInterval=[1,z[0]]:z.length==2&&(this.daTickInterval=[z[0],z[1]])}if(p==d){var W=432e5;p-=W,d+=W}x=d-p;var X=2+parseInt(Math.max(0,l-100)/100,10),V,$;V=this.min!=null?(new e.jsDate(this.min)).getTime():p-x/2*(this.padMin-1),$=this.max!=null?(new e.jsDate(this.max)).getTime():d+x/2*(this.padMax-1),this.min=V,this.max=$,x=this.max-this.min;if(this.numberTicks==null)if(this.daTickInterval!=null){var J=(new e.jsDate(this.max)).diff(this.min,this.daTickInterval[1],!0);this.numberTicks=Math.ceil(J/this.daTickInterval[0])+1,this.max=(new e.jsDate(this.min)).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()}else l>200?this.numberTicks=parseInt(3+(l-200)/100,10):this.numberTicks=2;w=x/(this.numberTicks-1)/1e3,this.daTickInterval==null&&(this.daTickInterval=[w,"seconds"]);for(var y=0;y<this.numberTicks;y++){var p=new e.jsDate(this.min);g=p.add(y*this.daTickInterval[0],this.daTickInterval[1]).getTime();var N=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(N.showMark=!1):(N.showLabel=!1,N.showMark=!1),N.setTick(g,this.name),this._ticks.push(N)}}this.tickInset&&(this.min=this.min-this.tickInset*w,this.max=this.max+this.tickInset*w),this._daTickInterval==null&&(this._daTickInterval=this.daTickInterval),n=null}})(jQuery)