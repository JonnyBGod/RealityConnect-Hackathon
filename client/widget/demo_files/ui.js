define(["backbonestore","app/ui-modules/share/share","app/ui-modules/leadcapture/leadcapture","jquery-plugins/jquery.jgrowl","jquery-plugins/jquery.blockUI"],function(e,t,n){HMSEvent.on("ui-remove-tooltip",function(){$(".ui-tooltip").hide()}),HMSEvent.on("ui-notify",function(e){e.mode||(e.mode="popup"),e.mode=="inline"&&e.selector&&$(e.selector).length>0&&$(e.selector).html(e.msg).show();if(e.mode=="popup"){var t={life:8e3,sticky:!1,position:"center",theme:"notification"};e.life&&(t.life=e.life),e.sticky&&(t.sticky=e.sticky),e.position&&(t.position=e.position),e.theme&&(t.theme=e.theme),$("div.jGrowl").length>0&&$.jGrowl("close"),$.jGrowl("<div class='message'>"+e.msg+"</div>",{sticky:t.sticky,position:t.position,theme:t.theme,life:t.life})}}),HMSEvent.on("ui-remove-notify",function(){$(".js-errormessage").length>0&&$(".js-errormessage").empty().hide(),$("div.jGrowl").length>0&&$("div.jGrowl").jGrowl("close")}),HMSEvent.on("ui-show-blocker",function(e){if(e){var t,n="";e.img&&(e.img.width&&(t="width:"+e.img.width+";"),e.img.height&&(n="height:"+e.img.height+";")),e.element?$(e.element).block({message:e.msg||'<img src="http://www.quantro.rmx-hmsstaging.com/resources/images/rmx-loader-med.gif" style="'+t+n+'"/>',css:e.css||"",overlayCSS:e.overlay||""}):$.showBlocker({message:e.msg||'<img src="http://www.quantro.rmx-hmsstaging.com/resources/images/rmx-loader-med.gif" style="'+t+n+'"/>',css:e.css||"",overlayCSS:e.overlay||""})}else $.showBlocker()}),HMSEvent.on("ui-hide-blocker",function(e){e?e.element&&$(e.element).unblock():$.hideBlocker()}),HMSEvent.on("ui-update-classes",function(){$("[data-states]").each(function(e,t){var n=$(t),r=n.data("states"),i=r.delegate?$(r.delegate):n,s=i.data("states"),o=s?"data-states"+r.id:"data-states",u=!1;$.each(r,function(e,t){n.removeClass(t),e=="hover"&&(i.unbind("mouseenter."+o).bind("mouseenter."+o,function(){var e=n.hasClass("active")?n.data("states").active:n.data("states").normal;n.removeClass(e),n.addClass(t+" hover")}),i.unbind("mouseleave."+o).bind("mouseleave."+o,function(){var e=n.hasClass("active")?n.data("states").active:n.data("states").normal;n.removeClass(t+" hover"),n.addClass(e)})),!u&&n.hasClass(e)&&(n.addClass(t),u=!0)}),!u&&r.normal&&n.addClass(r.normal)})}),HMSEvent.trigger("ui-update-classes"),HMSEvent.on("ui-update-share",function(){$(".js-sl-share").each(function(e,n){new t.View({el:n,type:"text",sharetype:"listing"})}),$(".js-user-sharelisting").length>0&&new t.View({el:".js-user-sharelisting",type:"button",sharetype:"listing"}),$(".js-user-shareforeclosurelisting").length>0&&new t.View({el:".js-user-shareforeclosurelisting",type:"button",sharetype:"foreclosure"}),$(".js-user-sharesearch").length>0&&new t.View({el:".js-user-sharesearch",type:"button",sharetype:"search"}),$(".js-user-shareagent").length>0&&new t.View({el:".js-user-shareagent",type:"button",sharetype:"agent"})}),HMSEvent.on("ui-show-contactform",function(e){n.execute(e)}),HMSEvent.on("ui-show-agentbranding",function(e){require(["app/shared/views/branding"],function(t){window.location.pathname!="/"&&new t.AgentView(e)})}),HMSEvent.on("ui-apply-mask",function(){$("[data-mask]").each(function(e,t){var n=$(t).data("mask");$(t).mask(n)})}),HMSEvent.on("ui-set-passwordlimitmessage",function(){$('input[type="password"]').unbind("keypress").bind("keypress",function(e){e&&e.currentTarget&&e.currentTarget.value.length==10&&(HMSEvent.trigger("ui-notify",{msg:"There is a 10-character limit for the password.",mode:"inline",selector:".js-errormessage"}),setTimeout(function(){HMSEvent.trigger("ui-remove-notify")},2e3))})}),HMSEvent.on("ui-foreclosure-pricetooltip",function(){$(".js-foreclosuredisclaimer").each(function(e,t){var n=$(t),r=n.data("status"),i=null;r&&r.toLowerCase()=="pre-foreclosure"&&(i='<h6 class="listing-detail-estimate-disclaimer-title">Status: Pre-Foreclosure</h6><p class="listing-detail-estimate-disclaimer-body">This price represents the original amount of the loan in default, the estimated market value, or the default loan amount.  It is not an actual appraisal, but it is a good starting point to determine the property\'s actual value.</p>'),r&&r.toLowerCase()=="auction"&&(i='<h6 class="listing-detail-estimate-disclaimer-title">Status: Auction</h6><p class="listing-detail-estimate-disclaimer-body">This property is scheduled to be sold through an auction.  This price represents the opening bid or estimated opening bid for that auction or the estimated market value.  It is not an actual appraisal, but it is a good starting point to determine the property\'s actual value.</p>'),r&&r.toLowerCase()=="bank-owned"&&(i='<h6 class="listing-detail-estimate-disclaimer-title">Status: Bank-Owned</h6><p class="listing-detail-estimate-disclaimer-body">This price represents the amount the bank owning the property has listed it for sale, the amount paid by the foreclosing lender to take ownership of the property, or the estimated market value.  It is not an actual appraisal, but it is a good starting point to determine the property\'s actual value.</p>'),r&&r.toLowerCase()=="inrix-disabled"&&(i='<span class="align-center"><p>This feature is</p><p> available free with trial</p></span>');var s="topMiddle",o="bottomMiddle";n.parents(".js-map-list-item").length>0&&(s="rightMiddle",o="leftMiddle"),i&&n.qtip({content:i,position:{my:s,at:o,viewport:$("#site-body"),container:$("#site-body")},hide:{when:{event:"unfocus"}},style:{classes:"ui-tooltip-remax",tip:{width:24,height:12},widget:!1,def:!1}})})})})